{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anwit\\\\IdeaProjects\\\\Flight_Reservation_Project_Updated\\\\Flight-Reservation-System-Frontend-Updated\\\\src\\\\components\\\\seat-selection\\\\seat-selection.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { Button, Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions } from '@material-ui/core';\nimport { ErrorOutline } from '@material-ui/icons';\nimport { useHistory } from 'react-router';\nimport { useUserInfoSession } from '../header/user-context';\nimport SeatBookingServices from '../../services/seat-booking-services';\nimport './seat-selection.css';\nconst SeatSelection = () => {\n  const [selectedSeat, setSelectedSeat] = useState(null);\n  const [selectedClass, setSelectedClass] = useState(null);\n  const [selectPayment, setSelectPayment] = useState(false);\n  const [openModal, setOpenModal] = useState(false);\n  const [amountToBePaid, setAmountToBePaid] = useState(0);\n  const [availableSeats, setAvailableSeats] = useState([]);\n  const [allSeats, setAllSeats] = useState([]);\n  const [seatPrices, setSeatPrices] = useState({});\n  const history = useHistory();\n  const isEconomyClass = seat => getClassFromSeatNumber(seat.seatNumber) === 'Economy Class';\n  const {\n    userInfoSession,\n    appendToUserInfoSession\n  } = useUserInfoSession();\n  useEffect(() => {\n    const seatsInformation = async () => {\n      const data = await SeatBookingServices.getAllSeats(userInfoSession.selectedFlightNumber);\n      const availableSeats = data.filter(seat => seat.passengerId === -1);\n      const bookedSeats = data.filter(seat => seat.passengerId !== -1);\n      setAvailableSeats(availableSeats);\n      setAllSeats([...availableSeats, ...bookedSeats]); // Combine both available and booked seats\n      setSeatPrices(generateSeatPrices(availableSeats));\n    };\n    seatsInformation();\n  }, [userInfoSession.selectedFlightNumber]);\n  const generateSeatPrices = seats => {\n    const prices = {};\n    seats.forEach(seat => {\n      prices[seat.seatNumber] = seat.price + Math.floor(Math.random() * 399) - 199;\n    });\n    return prices;\n  };\n  const extractNumericPart = seatNumber => {\n    const numericPart = seatNumber.replace(/^\\D+/g, '');\n    return parseInt(numericPart, 10);\n  };\n  const handleSeatClick = (seatNumber, seatClass) => {\n    setSelectedSeat(prevSeat => prevSeat === seatNumber ? null : seatNumber);\n    setSelectedClass(seatClass);\n  };\n  const handlePayment = () => {\n    if (selectedSeat && availableSeats.map(seat => seat.seatNumber).includes(selectedSeat)) {\n      const fetchBookInformation = async () => {\n        const data = await SeatBookingServices.bookSeats(userInfoSession.selectedFlightNumber, userInfoSession.userId, selectedSeat, selectedClass, seatPrices[selectedSeat]);\n        console.log('Seat booking info from Backend: ', data);\n      };\n      fetchBookInformation();\n      setAmountToBePaid(seatPrices[selectedSeat]);\n      setSelectPayment(true);\n      appendToUserInfoSession({\n        selectedSeat: selectedSeat,\n        selectedClass: selectedClass,\n        amountToBePaid: seatPrices[selectedSeat]\n      });\n    } else {\n      setOpenModal(true);\n    }\n  };\n  useEffect(() => {\n    if (selectPayment) {\n      history.push('/payment', {\n        selectedSeat,\n        amountToBePaid\n      });\n    }\n  }, [selectPayment, history, selectedSeat, amountToBePaid]);\n  const handleModalClose = () => {\n    setOpenModal(false);\n  };\n  const isSeatBooked = seat => seat && seat.passengerId !== -1;\n  const getClassFromSeatNumber = seatNumber => {\n    if (seatNumber.startsWith('F')) {\n      return 'First Class';\n    } else if (seatNumber.startsWith('B')) {\n      return 'Business Class';\n    } else if (seatNumber.startsWith('E')) {\n      return 'Economy Class';\n    }\n    return 'Unknown Class';\n  };\n  const sortedClasses = ['First Class', 'Business Class', 'Economy Class'];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"seat-selection-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      textAlign: 'center',\n      marginBottom: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }, \"Select Your Seat\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }\n  }, sortedClasses.map(classType => /*#__PURE__*/React.createElement(\"div\", {\n    key: classType,\n    style: {\n      textAlign: 'center',\n      marginBottom: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }, classType), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"seat-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }, allSeats.filter(seat => getClassFromSeatNumber(seat.seatNumber) === classType).sort((a, b) => extractNumericPart(a.seatNumber) - extractNumericPart(b.seatNumber)).reduce((rows, seat, index) => {\n    const rowIndex = Math.floor(index / (classType === 'Economy Class' ? 4 : 3));\n    if (!rows[rowIndex]) {\n      rows[rowIndex] = [];\n    }\n    rows[rowIndex].push(seat);\n    return rows;\n  }, []).map((row, rowIndex) => /*#__PURE__*/React.createElement(\"div\", {\n    key: rowIndex,\n    className: `seat-${classType.toLowerCase()}-row`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 19\n    }\n  }, row.map(seat => /*#__PURE__*/React.createElement(\"div\", {\n    key: seat.seatNumber,\n    className: `seat ${selectedSeat === seat.seatNumber ? 'selected' : ''} ${isSeatBooked(seat) ? 'booked' : ''}`,\n    onClick: () => handleSeatClick(seat.seatNumber, seat.seatClass),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 23\n    }\n  }, seat.seatNumber, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 25\n    }\n  }))))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"selected-seats\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }\n  }, `Selected Seat: ${selectedSeat || 'None'}`), selectedSeat && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 11\n    }\n  }, `Cost: â‚¹${seatPrices[selectedSeat]}`)), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      backgroundColor: '#000',\n      color: '#fff'\n    },\n    onClick: handlePayment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }\n  }, \"Confirm Seat\"), /*#__PURE__*/React.createElement(Button, {\n    style: {\n      backgroundColor: '#ccc',\n      color: '#000',\n      marginLeft: '10px'\n    },\n    onClick: () => {\n      setSelectedSeat(null);\n      setSelectedClass(null);\n      setAmountToBePaid(0);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }\n  }, \"Clear Selection\")), /*#__PURE__*/React.createElement(Dialog, {\n    open: openModal,\n    onClose: handleModalClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ErrorOutline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 11\n    }\n  }), \"Alert\"), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DialogContentText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 11\n    }\n  }, isSeatBooked(selectedSeat) ? 'This seat is already booked' : 'Please select a seat before confirming')), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleModalClose,\n    color: \"primary\",\n    variant: \"contained\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 11\n    }\n  }, \"OK\"))));\n};\nexport default SeatSelection;","map":{"version":3,"names":["React","useEffect","useState","Button","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","ErrorOutline","useHistory","useUserInfoSession","SeatBookingServices","SeatSelection","selectedSeat","setSelectedSeat","selectedClass","setSelectedClass","selectPayment","setSelectPayment","openModal","setOpenModal","amountToBePaid","setAmountToBePaid","availableSeats","setAvailableSeats","allSeats","setAllSeats","seatPrices","setSeatPrices","history","isEconomyClass","seat","getClassFromSeatNumber","seatNumber","userInfoSession","appendToUserInfoSession","seatsInformation","data","getAllSeats","selectedFlightNumber","filter","passengerId","bookedSeats","generateSeatPrices","seats","prices","forEach","price","Math","floor","random","extractNumericPart","numericPart","replace","parseInt","handleSeatClick","seatClass","prevSeat","handlePayment","map","includes","fetchBookInformation","bookSeats","userId","console","log","push","handleModalClose","isSeatBooked","startsWith","sortedClasses","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","textAlign","marginBottom","classType","key","sort","a","b","reduce","rows","index","rowIndex","row","toLowerCase","onClick","backgroundColor","color","marginLeft","open","onClose","variant"],"sources":["C:/Users/anwit/IdeaProjects/Flight_Reservation_Project_Updated/Flight-Reservation-System-Frontend-Updated/src/components/seat-selection/seat-selection.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogActions,\r\n} from '@material-ui/core';\r\nimport { ErrorOutline } from '@material-ui/icons';\r\nimport { useHistory } from 'react-router';\r\nimport { useUserInfoSession } from '../header/user-context';\r\nimport SeatBookingServices from '../../services/seat-booking-services';\r\nimport './seat-selection.css';\r\n\r\nconst SeatSelection = () => {\r\n  const [selectedSeat, setSelectedSeat] = useState(null);\r\n  const [selectedClass, setSelectedClass] = useState(null);\r\n  const [selectPayment, setSelectPayment] = useState(false);\r\n  const [openModal, setOpenModal] = useState(false);\r\n  const [amountToBePaid, setAmountToBePaid] = useState(0);\r\n  const [availableSeats, setAvailableSeats] = useState([]);\r\n  const [allSeats, setAllSeats] = useState([]);\r\n  const [seatPrices, setSeatPrices] = useState({});\r\n\r\n  const history = useHistory();\r\n  const isEconomyClass = (seat) => getClassFromSeatNumber(seat.seatNumber) === 'Economy Class';\r\n\r\n  const { userInfoSession, appendToUserInfoSession } = useUserInfoSession();\r\n\r\n  useEffect(() => {\r\n    const seatsInformation = async () => {\r\n      const data = await SeatBookingServices.getAllSeats(\r\n        userInfoSession.selectedFlightNumber\r\n      );\r\n\r\n      const availableSeats = data.filter((seat) => seat.passengerId === -1);\r\n      const bookedSeats = data.filter((seat) => seat.passengerId !== -1);\r\n\r\n      setAvailableSeats(availableSeats);\r\n      setAllSeats([...availableSeats, ...bookedSeats]); // Combine both available and booked seats\r\n      setSeatPrices(generateSeatPrices(availableSeats));\r\n    };\r\n    seatsInformation();\r\n  }, [userInfoSession.selectedFlightNumber]);\r\n\r\n  const generateSeatPrices = (seats) => {\r\n    const prices = {};\r\n    seats.forEach((seat) => {\r\n      prices[seat.seatNumber] =\r\n        seat.price + Math.floor(Math.random() * 399) - 199;\r\n    });\r\n    return prices;\r\n  };\r\n\r\n  const extractNumericPart = (seatNumber) => {\r\n    const numericPart = seatNumber.replace(/^\\D+/g, '');\r\n    return parseInt(numericPart, 10);\r\n  };\r\n\r\n  const handleSeatClick = (seatNumber, seatClass) => {\r\n    setSelectedSeat((prevSeat) =>\r\n      prevSeat === seatNumber ? null : seatNumber\r\n    );\r\n    setSelectedClass(seatClass);\r\n\r\n  };\r\n\r\n  const handlePayment = () => {\r\n    if (\r\n      selectedSeat &&\r\n      availableSeats.map((seat) => seat.seatNumber).includes(selectedSeat)\r\n    ) {\r\n      const fetchBookInformation = async () => {\r\n        const data = await SeatBookingServices.bookSeats(\r\n          userInfoSession.selectedFlightNumber,\r\n          userInfoSession.userId,\r\n          selectedSeat,\r\n          selectedClass,\r\n          seatPrices[selectedSeat]\r\n        );\r\n        console.log('Seat booking info from Backend: ', data);\r\n      };\r\n      fetchBookInformation();\r\n\r\n      setAmountToBePaid(seatPrices[selectedSeat]);\r\n      setSelectPayment(true);\r\n      appendToUserInfoSession(\r\n        {\r\n            selectedSeat: selectedSeat,\r\n            selectedClass: selectedClass,\r\n            amountToBePaid: seatPrices[selectedSeat],\r\n        }\r\n      );\r\n    } else {\r\n      setOpenModal(true);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (selectPayment) {\r\n      history.push('/payment', { selectedSeat, amountToBePaid });\r\n    }\r\n  }, [selectPayment, history, selectedSeat, amountToBePaid]);\r\n\r\n  const handleModalClose = () => {\r\n    setOpenModal(false);\r\n  };\r\n\r\n  const isSeatBooked = (seat) => seat && seat.passengerId !== -1;\r\n\r\n  const getClassFromSeatNumber = (seatNumber) => {\r\n    if (seatNumber.startsWith('F')) {\r\n      return 'First Class';\r\n    } else if (seatNumber.startsWith('B')) {\r\n      return 'Business Class';\r\n    } else if (seatNumber.startsWith('E')) {\r\n      return 'Economy Class';\r\n    }\r\n    return 'Unknown Class';\r\n  };\r\n\r\n  const sortedClasses = ['First Class', 'Business Class', 'Economy Class'];\r\n\r\n  return (\r\n    <div className=\"seat-selection-container\">\r\n      <h2 style={{ textAlign: 'center', marginBottom: '10px' }}>\r\n        Select Your Seat\r\n      </h2>\r\n      <div className=\"container\">\r\n        {sortedClasses.map((classType) => (\r\n          <div\r\n            key={classType}\r\n            style={{ textAlign: 'center', marginBottom: '20px' }}\r\n          >\r\n            <h3>{classType}</h3>\r\n            <div className=\"seat-row\">\r\n              {allSeats\r\n                .filter(\r\n                  (seat) => getClassFromSeatNumber(seat.seatNumber) === classType\r\n                )\r\n                .sort((a, b) =>\r\n                  extractNumericPart(a.seatNumber) -\r\n                  extractNumericPart(b.seatNumber)\r\n                )\r\n                .reduce((rows, seat, index) => {\r\n                  const rowIndex = Math.floor(index / (classType === 'Economy Class' ? 4 : 3));\r\n                  if (!rows[rowIndex]) {\r\n                    rows[rowIndex] = [];\r\n                  }\r\n                  rows[rowIndex].push(seat);\r\n                  return rows;\r\n                }, [])\r\n                .map((row, rowIndex) => (\r\n                  <div key={rowIndex} className={`seat-${classType.toLowerCase()}-row`}>\r\n                    {row.map((seat) => (\r\n                      <div\r\n                        key={seat.seatNumber}\r\n                        className={`seat ${\r\n                          selectedSeat === seat.seatNumber ? 'selected' : ''\r\n                        } ${isSeatBooked(seat) ? 'booked' : ''}`}\r\n                        onClick={() =>\r\n                          handleSeatClick(seat.seatNumber, seat.seatClass)\r\n                        }\r\n                      >\r\n                        {seat.seatNumber}\r\n                        <br />\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                ))}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"selected-seats\">\r\n        <p>{`Selected Seat: ${selectedSeat || 'None'}`}</p>\r\n        {selectedSeat && (\r\n          <p>{`Cost: â‚¹${seatPrices[selectedSeat]}`}</p>\r\n        )}\r\n      </div>\r\n      <br />\r\n      <div style={{ textAlign: 'center' }}>\r\n        <Button\r\n          style={{ backgroundColor: '#000', color: '#fff' }}\r\n          onClick={handlePayment}\r\n        >\r\n          Confirm Seat\r\n        </Button>\r\n        <Button\r\n          style={{ backgroundColor: '#ccc', color: '#000', marginLeft: '10px' }}\r\n          onClick={() => {\r\n            setSelectedSeat(null);\r\n            setSelectedClass(null);\r\n            setAmountToBePaid(0);\r\n          }}\r\n        >\r\n          Clear Selection\r\n        </Button>\r\n      </div>\r\n      <Dialog open={openModal} onClose={handleModalClose}>\r\n        <DialogTitle>\r\n          <ErrorOutline />\r\n          Alert\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            {isSeatBooked(selectedSeat)\r\n              ? 'This seat is already booked'\r\n              : 'Please select a seat before confirming'}\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={handleModalClose}\r\n            color=\"primary\"\r\n            variant=\"contained\"\r\n          >\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SeatSelection;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}